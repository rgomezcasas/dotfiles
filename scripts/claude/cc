#!/usr/bin/env bash

set -euo pipefail

##? Launch Claude Code with system theme and custom prompt
#?? 1.0.0
##?
##? Usage:
##?   cc [ARGS...]

if [[ $(defaults read -g AppleInterfaceStyle 2>/dev/null) == "Dark" ]]; then
  theme="dark"
else
  theme="light"
fi

jq --arg t "$theme" '.theme = $t' ~/.claude.json >| ~/.claude.json.tmp && mv ~/.claude.json.tmp ~/.claude.json

exec env -u BW_SESSION claude --append-system-prompt 'responde siempre en castellano' "$@"
